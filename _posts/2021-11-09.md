---
title:  "[Code] ìƒìœ„ í´ë” ì•ˆì˜ í•˜ìœ„ í´ë” ìˆœíšŒ"
excerpt: "Pythonì—ì„œ í´ë” ì•ˆì˜ í´ë”ë¥¼ ìˆœíšŒí•˜ëŠ” í•¨ìˆ˜ì— ê´€í•œ ê¸€ì…ë‹ˆë‹¤."

toc: true
toc_sticky: true
toc_label: "ì£¼ìš” ëª©ì°¨"
 
date: 2021-11-09
last_modified_at: 2021-11-09

use_math: true
comments: true

categories:
  - ETC
---





- í´ë” ì•ˆì˜ íŒŒì¼ì„ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•¨
- í´ë” ì•ˆì— í•˜ìœ„ í´ë”ê°€ ìˆëŠ” ê²½ìš°, ê·¸ ì•ˆì˜ íŒŒì¼ì„ ìˆœíšŒí•˜ëŠ” ì²˜ë¦¬ê°€ í•„ìš”í•¨
- (ì°¸ê³ ) [os ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¬¸ì„œ](https://docs.python.org/ko/3/library/os.path.html)



## ğŸŒ± ìƒì„¸ ì½”ë“œ



### ê³µí†µ ì½”ë“œ

```python
# íŒ¨í‚¤ì§€ ì„í¬íŠ¸
import os

# ê²½ë¡œ ì„¤ì •
work_path = './'    # ì‘ì—… ê²½ë¡œ
output_path = './'  # output ë°ì´í„° ê²½ë¡œ
```



### í´ë” ì•ˆì˜ ëª¨ë“  íŒŒì¼ì„ ìˆœíšŒí•˜ëŠ” í•¨ìˆ˜

```python
# í´ë” ë‚´ë¶€ì˜ ëª¨ë“  íŒŒì¼ì— ëŒ€í•´ ì²˜ë¦¬ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜
def get_files(work_path, output_path):
    
    failed = []    # ì²˜ë¦¬ ì‹¤íŒ¨ íŒŒì¼ ëª©ë¡
    # ì‘ì—… ê²½ë¡œ ë‚´ì˜ í´ë” ë° íŒŒì¼ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
    file_names = os.listdir(work_path)

    for file_name in file_names:
        # íŒŒì¼ê²½ë¡œ = ì‘ì—…ê²½ë¡œ + íŒŒì¼ì´ë¦„
        file_path = os.path.join(work_path, file_name)
        
        # (2nd) í´ë” ì•ˆ í´ë”ì— ëŒ€í•œ ì²˜ë¦¬
        # íŒŒì¼ê²½ë¡œê°€ í´ë”ì¸ ê²½ìš°
        if os.path.isdir(file_path):
            get_files(file_path, output_path)
            
        # (1st) í´ë” ì•ˆ íŒŒì¼ì— ëŒ€í•œ ì²˜ë¦¬
        else:
            ext = os.path.splitext(file_path)[-1]
            # íŠ¹ì • íŒŒì¼í˜•ì‹ì˜ ê²½ìš°
            if ext == '.csv':
                
                try:
                    # íŒŒì¼ì— ëŒ€í•œ ì²˜ë¦¬ ì½”ë“œ ğŸ“Œ
                    
                except:
                    failed.append(file_name)    # ğŸ“Œì•„ë˜ì— ì •ì˜
                
                # ì €ì¥
                save_files(file, output_path, file_name)    # ğŸ“Œì•„ë˜ì— ì •ì˜
                
    print(f"â–  ì²˜ë¦¬ ì‹¤íŒ¨ íŒŒì¼ : {failed}")

# ìˆ˜í–‰
# get_files(work_path, output_path)
```



### í´ë” ìƒì„± í•¨ìˆ˜

```python
# í´ë”ê°€ ì—†ìœ¼ë©´ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
def make_folder(path):
    print(path)
    try:
        if not os.path.exists(path):
            os.makedirs(path)
    except OSError:
        print(path + 'í´ë”ë¥¼ ìƒì„±í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.')
```



### íŒŒì¼ ì €ì¥ í•¨ìˆ˜

```python
# ì²˜ë¦¬ê°€ ëë‚œ íŒŒì¼ì„ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
def save_files(file, output_path, file_name):
    # ì €ì¥ì€ í˜„ì¬ ë””ë ‰í† ë¦¬ì— ìƒˆë¡œìš´ í´ë” ìƒì„± í›„ ì €ì¥
    make_folder(output_path)
    file.to_csv(output_path + '\\' + file_name, encoding='utf-8-sig')
```



